exec = hyprctl dispatch submap global
submap = global

# ----------------------------------------------------------
# #"Util"
# ----------------------------------------------------------
# reload hypr
bindr = Ctrl+Super+Alt, R, exec, hyprctl reload

# ----------------------------------------------------------
# #"Mouse"
# ----------------------------------------------------------
bind=,mouse:275,pass
bind=,mouse:276,pass

# ----------------------------------------------------------
# #"Noctalia"
# ----------------------------------------------------------
# Application and system controls
bind = SUPER, D, exec, qs -c noctalia-shell ipc call launcher toggle
bind = SUPER, S, exec, qs -c noctalia-shell ipc call launcher windows
bind = SUPER, V, exec, qs -c noctalia-shell ipc call launcher clipboard
bind = Super+Alt, L, exec, qs -c noctalia-shell ipc call lockscreen lock
bind = SUPER, Y, exec, qs -c noctalia-shell ipc call wallpaper toggle
bind = Super+Shift, Y, exec, qs -c noctalia-shell ipc call wallpaper random
bind = SUPER, Period, exec, qs -c noctalia-shell ipc call launcher emoji
bind = SUPER, Comma, exec, qs -c noctalia-shell ipc call settings toggle
bind = SUPER, N, exec, qs -c noctalia-shell ipc call notifications toggleHistory

# Audio controls (function keys)
bindl = , XF86AudioRaiseVolume, exec, qs -c noctalia-shell ipc call volume increase
bindl = , XF86AudioLowerVolume, exec, qs -c noctalia-shell ipc call volume decrease
bindl = , XF86AudioMute, exec, qs -c noctalia-shell ipc call volume muteOutput
bindl = , XF86AudioMicMute, exec, qs -c noctalia-shell ipc call volume muteInput

bind = CTRL_SHIFT, mouse_up, exec, qs -c noctalia-shell ipc call volume increase
bind = CTRL_SHIFT, mouse_down, exec, qs -c noctalia-shell ipc call volume decrease

# Brightness controls (function keys)
bindl = , XF86MonBrightnessUp, exec, qs -c noctalia-shell ipc call brightness increase
bindl = , XF86MonBrightnessDown, exec, qs -c noctalia-shell ipc call brightness decrease


# Screenshots
bind = , PRINT, exec, flameshot full -p /home/dadangdut33/Pictures/Screenshots
bind = Super+Shift, S, exec, flameshot gui
bind = Super+Shift, C, exec, hyprpicker -a  # Colour picker

# Record
bind = SUPER SHIFT, R, exec, qs -c noctalia-shell ipc call plug:screen-recorder toggle

# record area
# Start (kills any existing recording first, handles cancel, then starts)
# bind = SUPER SHIFT, R, exec, sh -c 'if pgrep -x wf-recorder >/dev/null; then dunstify "âš ï¸ Recording" "Stopping existing recording..."; pkill -INT -x wf-recorder; sleep 0.5; fi; G="$(slurp)" || { dunstify "âšª Canceled" "Selection canceled."; exit 1; }; [ -z "$G" ] && { dunstify "âšª Canceled" "Selection canceled."; exit 1; }; dunstify "ðŸ”´ Recording" "Recording started (Win+Shift+D to stop)"; wf-recorder -g "$G" -a -f "$HOME/Videos/Recordings/$(date +%F_%H-%M-%S).mp4" || dunstify "âŒ Error Starting Recording" "Failed to start recording."'
# Stop (graceful SIGINT so the file finalizes cleanly)
# bind = SUPER SHIFT, D, exec, sh -c 'if pgrep -x wf-recorder >/dev/null; then pkill -INT -x wf-recorder && dunstify "â¹ï¸ Recording" "Recording stopped."; else dunstify "ðŸ›‘ Not Recording" "No recording to stop."; fi'

# ----------------------------------------------------------
# #"Workspace management"
# ----------------------------------------------------------
# using hyprsplit: https://github.com/shezdy/hyprsplit
bind = SUPER, 1, split:workspace, 1
bind = SUPER, 2, split:workspace, 2
bind = SUPER, 3, split:workspace, 3
bind = SUPER, 4, split:workspace, 4
bind = SUPER, 5, split:workspace, 5
bind = SUPER, 6, split:workspace, 6
bind = SUPER, 7, split:workspace, 7
bind = SUPER, 8, split:workspace, 8
bind = SUPER, 9, split:workspace, 9
bind = SUPER, 0, split:workspace, 0

bind = SUPER SHIFT, 1, split:movetoworkspace, 1
bind = SUPER SHIFT, 2, split:movetoworkspace, 2
bind = SUPER SHIFT, 3, split:movetoworkspace, 3
bind = SUPER SHIFT, 4, split:movetoworkspace, 4
bind = SUPER SHIFT, 5, split:movetoworkspace, 5
bind = SUPER SHIFT, 6, split:movetoworkspace, 6
bind = SUPER SHIFT, 7, split:movetoworkspace, 7
bind = SUPER SHIFT, 8, split:movetoworkspace, 8
bind = SUPER SHIFT, 9, split:movetoworkspace, 9
bind = SUPER SHIFT, 0, split:movetoworkspace, 0

binde = Super+SHIFT, Page_Up, split:movetoworkspace, -1
binde = Super+SHIFT, Page_Down, split:movetoworkspace, +1
bind = Super+SHIFT, mouse_down, split:movetoworkspace, -1
bind = Super+SHIFT, mouse_up, split:movetoworkspace, +1
binde = Ctrl+Super+Shift, right, split:movetoworkspace, +1
binde = Ctrl+Super+Shift, left, split:movetoworkspace, -1

# Workspace
bind = Super, mouse_down, split:workspace, -1
bind = Super, mouse_up, split:workspace, +1
binde = Ctrl+Super, left, split:workspace, -1
binde = Super, Page_Up, split:workspace, -1
binde = Ctrl+Super, right, split:workspace, +1
binde = Super, Page_Down, split:workspace, +1

# run it when unplugging monitor
bind = Super+SHIFT, G, split:grabroguewindows

# Overview using https://github.com/KZDKM/Hyprspace
bind = Super, tab, exec, hyprctl dispatch overview:toggle
# bind = SUPER, d, hyprexpo:expo, toggle

# Cycle workspace
# bind = Super, Tab, split:workspace, m+1       # Open next workspace
# bind = Super SHIFT, Tab, split:workspace, m-1 # Open previous workspace

# ----------------------------------------------------------
# #"Window Action"
# ----------------------------------------------------------
# Window groups
binde = ALT, Tab, exec, snappy-switcher next
binde = ALT SHIFT, Tab, exec, snappy-switcher prev

# Window actions
bindm = Super, mouse:272, movewindow                                                     # Move window with the mouse
bindm = Super, mouse:273, resizewindow                                                   # Resize window with the mouse
bind = Super, Q, killactive                                                              # Kill active window
bind = Super SHIFT, Q, exec, hyprctl activewindow | grep pid | tr -d 'pid:' | xargs kill # Quit active window and all open instances
bind = Super, F, fullscreen, 1                                                           # Maximize Window
bind = Super+SHIFT, F, fullscreen, 0                                                           # Set active window to fullscreen
bind = Super, T, togglefloating                                                          # Toggle active windows into floating mode
bind = Super SHIFT, T, workspaceopt, allfloat                                            # Toggle all windows into floating mode
bind = Super, J, togglesplit                                                             # Toggle split
bind = Super, left, movefocus, l                                                         # Move focus left
bind = Super, right, movefocus, r                                                        # Move focus right
bind = Super, up, movefocus, u                                                           # Move focus up
bind = Super, down, movefocus, d                                                         # Move focus down
bind = Super SHIFT, right, resizeactive, 100 0                                           # Increase window width with keyboard
bind = Super SHIFT, left, resizeactive, -100 0                                           # Reduce window width with keyboard
bind = Super SHIFT, down, resizeactive, 0 100                                            # Increase window height with keyboard
bind = Super SHIFT, up, resizeactive, 0 -100                                             # Reduce window height with keyboard
bind = Super, G, togglegroup                                                             # Toggle window group
bind = Super, K, swapsplit                                                               # Swapsplit
bind = Super ALT, left, swapwindow, l                                                    # Swap tiled window left
bind = Super ALT, right, swapwindow, r                                                   # Swap tiled window right
bind = Super ALT, up, swapwindow, u                                                      # Swap tiled window up
bind = Super ALT, down, swapwindow, d                                                    # Swap tiled window down

# ----------------------------------------------------------
# #"Apps keybind"
# ----------------------------------------------------------
bind = SUPER, return, exec, app2unit -- kitty
bind = SUPER, E, exec, app2unit -- dolphin
bind = SUPER, SPACE, exec, sh -c "pgrep -x fsearch >/dev/null && pkill -x fsearch || fsearch"
# bind = Super, W, exec, app2unit -- zen-browser
# bind = Super, C, exec, app2unit -- codium
# bind = Super, E, exec, app2unit -- nautilus
# bind = Super+Alt, E, exec, app2unit -- nemo
# bind = Ctrl+Alt, Escape, exec, app2unit -- qps
# bind = Ctrl+Alt, V, exec, app2unit -- pavucontrol


